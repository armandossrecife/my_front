{% from "macros.html" import cabecalho %}
{% extends "base.html" %}
{% block title %} Registro de Novo Usuário {% endblock %}
    
{% block content %}        
    {{ cabecalho() }}
    <script src="static/assets/my/validate.js"></script>
    <div class="container-fluid">
        <h2>Novo Usuário</h2>

        {% for category, message in get_flashed_messages(with_categories=True) %}
        <div class="alert alert-{{ category }} alert-dismissible fade show">
          {{ message }}
          <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
        </div>
        {% endfor %}

        <form action="{{ url_for('auth.register') }}" onsubmit="return validateEmail() && validatePassword()" method="POST">
            {{ form.hidden_tag() }}
            <div class="mb-3 mt-3">
                <label class="form-label">Nome:</label>
                {{ form.name(placeholder="Nome") }}
            </div>
            <div class="mb-3 mt-3">
                <label class="form-label">Email:</label>
                {{ form.username(placeholder="email") }}
            </div>
            <div class="mb-3 mt-3">
                <label class="form-label">Confirma Email:</label>
                {{ form.confirm_username(placeholder="email") }}
            </div>
            <div class="mb-3">
                <label class="form-label">Password:</label>
                {{ form.password(placeholder="Passwod") }}
            </div>
            <div class="mb-3">
                <label class="form-label">Confirma Password:</label>
                {{ form.password2(placeholder="Confirm Passwod") }}
            </div>
            {{ form.submit() }}
        </form>
    </div>
{% endblock %}